<div id="features">
	<div class="header">{{localize "gcsga.feature.header"}}</div>
	<div class="content">
		<div>
			<i class="add gcs-circled-add" data-path="{{path}}"></i>
		</div>
		{{#each system.features}}
		<div class="feature">
			<div class="top">
				<i class="remove gcs-trash" data-path="{{path}}"></i>
				<select class="type" name="{{path}}.type" data-path="{{path}}">
					{{#select this.type}}
					{{#each ../config.select.features as |v k|}}
					<option value="{{k}}">{{localize (concat "gcsga.select.features." v)}}</option>
					{{/each}}
					{{/select}}
				</select>
				{{#if (eq this.type "cost_reduction")}}{{>cost-reduction config=../config
				attributes=../attributes}}{{else}}
				{{>input-text field="field" name=(concat "system.features" @index ".amount") data=this.amount
				type="Number"}}
				{{#if (eq this.type "weapon_bonus")}}<p>TODO</p>{{else}}
				<div class="field">
					<label class="checkbox-label">
						<input class="input
					enabled" type="checkbox" {{checked this.per_level}} />
						{{localize "gcsga.feature.per_level"}}
					</label>
				</div>
				{{/if}}
				{{/if}}
			</div>
			{{#if (eq this.type "attribute_bonus")}}{{>attribute-bonus config=../config
			attributes=../attributes}}{{/if}}
			{{#if (eq this.type "reaction_bonus")}}{{>reaction-bonus config=../config}}{{/if}}
			{{#if (eq this.type "dr_bonus")}}{{>dr-bonus config=../config}}{{/if}}
			{{#if (eq this.type "conditional_modifier")}}{{>conditional-modifier config=../config}}{{/if}}
			{{#if (eq this.type "weapon_bonus")}}{{>weapon-bonus config=../config}}{{/if}}
			{{#if (eq this.type "skill_bonus")}}{{>skill-bonus config=../config}}{{/if}}
			{{#if (eq this.type "spell_bonus")}}{{>spell-bonus config=../config}}{{/if}}
			{{#if (eq this.type "skill_point_bonus")}}{{>skill-point-bonus config=../config}}{{/if}}
			{{#if (eq this.type "spell_point_bonus")}}{{>spell-point-bonus config=../config}}{{/if}}
		</div>
		{{/each}}
	</div>
</div>
